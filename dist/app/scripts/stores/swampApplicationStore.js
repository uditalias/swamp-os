define(["AppDispatcher","definitions/SwampApplicationStore","constants/ACTION_SOURCE","constants/SERVER_ACTION_TYPE","constants/CLIENT_ACTION_TYPE"],function(a,b,c,d,e){function f(a){var b=a.action,c=!1;return b.actionType,c}function g(a){var b=a.action,c=!1;switch(b.actionType){case e.APPLICATION_PROMPT:h.setPrompt(b.promptText,b.onConfirm,b.onCancel),c=!0;break;case e.RESPONSE_APPLICATION_PROMPT:b.confirm?h.confirmPrompt():h.cancelPrompt(),c=!0;break;case e.SHOW_CONTEXT_MENU:h.setContextMenu(b.items,b.position),c=!0;break;case e.CLEAR_CONTEXT_MENU:h.clearContextMenu(),c=!0}return c}var h=new b;return a.register(function(a){var b=!1;a.source==c.SERVER_ACTION?b=f(a):a.source==c.CLIENT_ACTION&&(b=g(a)),b&&h.emitChange()}),h});