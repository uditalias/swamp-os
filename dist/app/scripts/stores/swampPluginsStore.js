define(["AppDispatcher","definitions/SwampPluginsStore","definitions/SwampPlugin","constants/ACTION_SOURCE","constants/SERVER_ACTION_TYPE","constants/CLIENT_ACTION_TYPE"],function(a,b,c,d,e){function f(a){var b,d=a.action,f=!1;switch(d.actionType){case e.FIRST_DATA_RECEIVED:_.forEach(d.rawPlugins,function(a){b=new c(a),i.addPlugin(b)}),f=!0}return b=null,f}function g(a){var b=a.action,c=!1;return b.actionType,c}var h=["/scripts/plugins/about/","/scripts/plugins/environmentsEditor/"],i=new b(h);return a.register(function(a){var b=!1;a.source==d.SERVER_ACTION?b=f(a):a.source==d.CLIENT_ACTION&&(b=g(a)),b&&i.emitChange()}),i});