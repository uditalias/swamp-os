define(["constants/AGGREGATED_LIST_TYPE"],function(a){function b(b,c){this.id=_.guid(),this.type=b||a.FIFO,this.maxItems=c||0,this._freezed=!1,this._queuedData=[],this._data=[]}return b.prototype.each=function(a){var b,c;for(b=0,c=this._data.length;c>b;b++)a(this._data[b],b,!1);for(b=0,c=this._queuedData.length;c>b;b++)a(this._queuedData[b],b,!0)},b.prototype.add=function(a){if(this._freezed)this._queuedData.push(a);else if(this._data.push(a),this.maxItems>0&&this.count()>this.maxItems)return this._automatedRemove()},b.prototype.remove=function(a){this._data.splice(a,1)},b.prototype.get=function(a){return this._data[a]},b.prototype.getAll=function(){return this._data},b.prototype.clear=function(){this._data.length=0},b.prototype.toggleFreeze=function(){this._freezed?this.unfreeze():this.freeze()},b.prototype.freeze=function(){this._freezed||(this._freezed=!0)},b.prototype.unfreeze=function(){this._freezed&&(this._freezed=!1,_.pushAll(this._data,this._queuedData),this._queuedData.length=0)},b.prototype.count=function(){return this._data.length},b.prototype.getLast=function(){return this.get(this.count()-1)},b.prototype._automatedRemove=function(){switch(this.type){case a.FIFO:this.remove(0);break;case a.LIFO:this.remove(this.count()-1)}},b});