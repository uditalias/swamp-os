define(["react","jqueryVisible"],function(a){var b=a.createClass({displayName:"NotificationsList",componentDidMount:function(){$(this.getDOMNode()).find("ul.list-items").perfectScrollbar(),$(this.getDOMNode()).find("ul.list-items").on("scroll",this._onListScroll)},componentWillUnmount:function(){$(this.getDOMNode()).find("ul.list-items").perfectScrollbar("destroy"),$(this.getDOMNode()).find("ul.list-items").off("scroll",this._onListScroll)},render:function(){return a.DOM.div({className:"notifications-list flex flex-vbox"},a.DOM.div({className:"list-title w400"},this.props.title),a.DOM.ul({className:"list-items flex-1"},this._buildListItems()))},_buildListItems:function(){if(!this.props.items.length)return a.DOM.div({className:"no-items flex flex-pack-center flex-align-center text-18 color-alt-white w100"},a.DOM.div(null,"No Notifications :("));var b,c=_.clone(this.props.items).reverse(),d=[],e={};return _.forEach(c,function(c){b=c.time.format("DD.MM.YYYY"),e[b]||(e[b]=[]),e[b].push(a.DOM.li({className:"text-14 color-alt-white",key:c.id},a.DOM.span({className:"margin-right-10"},c.time.format("HH:mm:ss")),a.DOM.span(null,c.text)))}),_.forEach(e,function(b,c){d.push(a.DOM.li({key:c},a.DOM.div({className:"group-title"},c),a.DOM.ul({className:"group-items"},b)))}),d},_onListScroll:function(){var a;$(".list-items li .group-title").each(function(){a=$(this).parent(),$(this).css(a.visible(!0)?a.position().top>0?{top:0,bottom:"auto"}:a.position().top+a.outerHeight()-$(this).outerHeight()>=0?{top:Math.abs(a.position().top),bottom:"auto"}:{top:"auto",bottom:0}:{top:0,bottom:"auto"}),a=null}),a=null}});return b});